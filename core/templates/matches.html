{% extends 'base.html' %}
{% load static %}
{% block main %}

<link rel="stylesheet" href="{% static 'css/matches.css' %}">

<div id="matches">
    <div class="container-matches">
        <div class="header-matches">
            <h1>Partidas</h1>
        </div>
        <input type="text" id="search" placeholder="Buscar por esporte">
        <div class="content-matches">
            
            {% for partida in partidas %}
                <div class="card-match" data-esporte="{{ partida.esporte.nome }}">
                    <p class="date-match">{{ partida.data }}</p>
                    <div class="match">
                        {% if partida.placar != '0x0' %}
                            <p>{{ partida.time1 }}</p>
                            <p>{{ partida.placar }}</p>
                            <p>{{ partida.time2 }}</p>
                        {% else %}
                            <p>{{ partida.time1 }}</p>
                            <p>VS</p>
                            <p>{{ partida.time2 }}</p>
                        {% endif %}
                    </div>
                    <p class="sport-name">{{ partida.esporte.nome }}</p>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $(document).ready(function () {
        $("#search").on("keyup", function () {
            var searchText = $(this).val().toLowerCase();

            $(".card-match").each(function () {
                var esporte = $(this).data("esporte").toLowerCase();

                if (esporte.includes(searchText)) {
                    $(this).show();
                } else {
                    $(this).hide();
                }
            });
        });
    });
</script>

{% endblock %}
